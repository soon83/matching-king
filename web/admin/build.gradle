apply from: '../common-web-build.gradle'

dependencies {

}

node.nodeProjectDir = file("${project.projectDir}/src/frontend")

task buildAdmin(type: NpmTask, dependsOn: setup) {
    args = ['run', 'build']
}

task buildCopyAdmin(dependsOn: buildAdmin) {
    copy {
        from "${project.projectDir}/src/frontend/dist/"
        into "${project.projectDir}/src/main/resources/static/"
    }
}

processResources.dependsOn 'buildCopyAdmin'
